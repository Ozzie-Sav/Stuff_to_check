SpellsList["thunder bolt"] = {
    name: "Thunder Bolt",
    classes: ["bard"],
    source: ["Nythoria", 1],
    level: 0,
    school: "Evocation",
    time: "1 action",
    range: "60 ft",
    components: "V,S",
    compMaterial: "Thadlor's Crescendo",
    duration: "Instantaneous",
    description: "1d10 thunder damage; CL6:2 bolts, CL14:3 bolts",
    descriptionShorter: "1d10 thunder damage; CL6:2 bolts, CL14:3 bolts",
    descriptionCantripDie: "Spell attack for `CD` bolt(s), each 1d10 thunder damage",
    descriptionFull: "You hurl a bolt of thunderous energy at a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 thunder damage. The spell creates more than one bolt when you reach higher levels - two bolts at 6th level and three bolts at 14th level. You can direct the bolts at the same target or at different ones. Make a separate attack roll for each bolt.",
    dynamicDamageBonus: { multipleDmgMoments: true }
};

WeaponsList["thunder bolt"] = {
    regExpSearch: /^(?=.*thunder)(?=.*bolt).*$/i,
    name: "Thunder Bolt",
    source: ["Nythoria", 2],
    list: "spell",
    ability: 6, // Charisma
    type: "Cantrip",
    damage: ["C\xD7" + 1, 10, "thunder"],
    range: "60 ft",
    description: "Each d10 is a separate bolt requiring separate rolls",
    abilitytodamage: false
};

calcChanges: {
        atkAdd: [
            function (fields, v) {
                if (v.baseWeaponName === "thunder bolt" && /thadlor's crescendo - awakened/i.test(v.WeaponTextName)) {
                    fields.Description += (fields.Description ? '; ' : '') + '+1d6 lightning damage';
                    fields.Damage_Die[1] += 6; // Add 1d6 lightning damage
                }
            },
            "Thadlor's Crescendo - Awakened allows the bard to cast Thunder Bolt at will, dealing an additional 1d6 lightning damage."
        ]
    }
